# 海思机顶盒TTL刷机教程 - 海思机顶盒NAS社区
你有幸读到这篇教程，恭喜你，接近99%的成功了。
------------------------

### 一、刷机前的准备

1.有一条usb转ttl的转接器（某宝8元左右，送排针，杜邦线）  
2.有一个windows7含以上的操作系统  
3.有一个华为海思芯片的机顶盒  
4.有一条网线将机顶盒接到路由器的lan口  
5.下载好ttl线刷工具hitool

### 二、TTL接线教程以及原理、注意事项

1.将usb转ttl模块（CH340模块为例）的usb口插到电脑，检查是否免驱或者需要安装对应驱动。  
![](https://raw.hisi.ga/histb/pic/master/2022/04/15/29631852.jpg)
  
当你看到设备管理器里的端口出现ttl转接模块的品牌名称和对应的COM口出现，  
就是成功安装好模块的驱动了。记住这个COM口的数字，比如这里的COM4.CH340转接模块多数是免驱的，CP2102,3202等，多数是需要安装驱动的。  
![](https://raw.hisi.ga/histb/pic/master/2022/04/15/12949527.jpg)
  
排针和杜邦线要保证不会断芯，如果某些板子的排针插口过小（ec6109-u），则可以考虑使用缝衣针点胶水固定到杜邦线口。  
![](https://raw.hisi.ga/histb/pic/master/2022/04/15/29573418.jpg)

### 2.接到机顶盒的板子上

拆开机顶盒，将ttl模块另一边杜邦线接上排针，插到机顶盒的对应GND，TX，RX口  
注意：这里的TX和RX口要互相对调。就是转接器的RX线接到板子的TX上，转接器的TX线接到板子的RX上。  
![](https://raw.hisi.ga/histb/pic/master/2022/04/15/97517354.jpg)

### 3.把网线从机顶盒的网口接到路由器LAN口上

注意，要保持和你的电脑在同一IP段的局域网下。

### 4.电脑操作系统准备windows7含以上的操作系统，下载好hitool工具。

直接解压到某个位置，无需安装，直接双击hitool即可打开。  
注意：必须保证工具所在的位置至少有3G以上剩余空间，因为工具需要对固件进行压缩上传给盒子。  
关闭防火墙，关闭流氓软件。因为hitool工具要使用tftp端口进行连接操作。

### 5.hitool工具检查盒子芯片型号参数

检查确定你的海思芯片机顶盒reg文件名称，是使用的哪个型号芯片。  
前面步骤完成，打开hitool，点击左上角终端，出现黑色的终端屏幕，选择COM口，点击连接，盒子上电，开始跑码。  
点击断开连接，往上查看跑码的具体参数，确认芯片型号。  
一直往下看emmc的描述，如看到emmc的参数里有“ca”字样，就是高安板。  
还可以确认emmc存储容量，4G或者8G。  
![](https://raw.hisi.ga/histb/pic/master/2022/04/15/16809709.jpg)

### 6\. 开始激动人心的TTL刷机

选择芯片，选择串口为你的转接器COM口，点击刷新COM口检查是否正确，  
选择EMMC刷机，选择网口刷机（网口刷5分钟，串口刷2小时）  
服务器IP是指你的电脑IP  
板端IP是指你的盒子接到路由器获得的IP  
网关是指你的路由器IP。这两个必须在同一网段，即前三位数字要相同。  
选择固件的分区表文件xml，检查对应各分区的文件是否正确，  
点击烧写，随即（15秒内）给盒子重新上电。  
看到状态栏进行刷写中，则静静等待几分钟刷完。  
下图分别是两个例子。

![](https://raw.hisi.ga/histb/pic/master/2022/04/15/25857503.jpg)
  
![](https://raw.hisi.ga/histb/pic/master/2022/04/15/88260597.jpg)